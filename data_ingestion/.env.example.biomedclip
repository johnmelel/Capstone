# Example .env configuration for BiomedCLIP embeddings

# ============================================
# Embedding Configuration
# ============================================
# Choose embedding backend: "huggingface" or "gemini"
EMBEDDING_BACKEND=huggingface

# HuggingFace BiomedCLIP Configuration (when EMBEDDING_BACKEND=huggingface)
EMBEDDING_SERVICE_URL=http://localhost:8000
EMBEDDING_DIMENSION=512

# Gemini Configuration (when EMBEDDING_BACKEND=gemini)
# Uncomment these if using Gemini instead
# EMBEDDING_BACKEND=gemini
# GEMINI_API_KEY=your_gemini_api_key_here
# EMBEDDING_MODEL=text-embedding-004
# EMBEDDING_DIMENSION=768

# ============================================
# Google Cloud Storage Configuration
# ============================================
GCS_BUCKET_NAME=your-bucket-name
GCS_BUCKET_PREFIX=  # Optional: folder path in bucket (e.g., "documents/pdfs")
GOOGLE_SERVICE_ACCOUNT_JSON=service_account.json
GCS_RECURSIVE=true  # Set to false to only process files in prefix folder

# ============================================
# Milvus Vector Database Configuration
# ============================================
MILVUS_URI=your-milvus-uri
MILVUS_API_KEY=your-milvus-api-key
MILVUS_COLLECTION_NAME=pdf_embeddings
MILVUS_METRIC_TYPE=COSINE

# ============================================
# Processing Configuration
# ============================================
MAX_TOKENS_PER_CHUNK=2048
CHUNK_SIZE=1792  # Target tokens per chunk (leaves buffer for model)
CHUNK_OVERLAP=64  # Tokens to overlap between chunks
BATCH_SIZE=100

# ============================================
# MinerU PDF Extraction Configuration
# ============================================
MINERU_BACKEND=pipeline  # Options: pipeline, vlm-transformers, vlm-vllm-engine
MINERU_MODEL_SOURCE=huggingface  # Options: huggingface, modelscope, local
MINERU_LANG=en  # Language: en, ch, auto, etc.
PDF_EXTRACTION_TIMEOUT=900  # Timeout in seconds (15 minutes default)
MINERU_DEBUG_MODE=false  # Set to true to keep temporary files for debugging
MINERU_ENABLE_TABLES=false  # Enable table extraction (Phase 2)
MINERU_ENABLE_FORMULAS=false  # Enable formula extraction (Phase 2)

# ============================================
# Retrieval Test Configuration
# ============================================
DEFAULT_RETRIEVAL_PROMPT=What is the future of AI?
TOP_K_RESULTS=5
